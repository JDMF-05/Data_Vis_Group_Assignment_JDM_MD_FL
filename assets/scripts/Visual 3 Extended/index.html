<br>

<div style="max-width: 900px; font-size: 0.9rem; line-height: 1.5; font-family: inherit;">
  <h1>
    <a href="#year-by-year" onmouseout="this.style.transform='scale(1)';" onmouseover="this.style.transform='scale(1.05)';" rel="history" style="color: inherit; text-decoration: none; cursor: pointer; display: inline-block; transition: transform 0.15s; transform: scale(1);">
      <text-icon icon="leftwards-arrow"></text-icon>back
 </a><br>
<br>

<text-icon icon="south-east-arrow"></text-icon>Year by<br>

<span style="color: rgb(0, 0, 0);"><text-icon icon="south-east-arrow"></text-icon></span>Year<br>
<br>

</h1></div><div style="max-width: 900px; font-size: 0.9rem; line-height: 1.5; font-family: inherit;"><h2 style="font-size: 1.6rem; font-weight: 600; margin-top: 2rem;">&nbsp;Goal
 &nbsp;</h2>

  <p>&nbsp; &nbsp; Show how genre trends changes in time.
<br>
<br>
</p>

  <h2 style="font-size: 1.6rem; font-weight: 600; margin-top: 2rem;">Creating the Subdataset
 &nbsp;</h2>

  <p>
&nbsp; &nbsp; As we only want the year for this dataset, we extract the year from each entry as the data we are using stores dates in a “YYYY-MM-DD” format.
 &nbsp;</p>

  <p>
&nbsp; &nbsp; Then, we transformed ranking positions into a score using this rule:<br>Position 1 → 100 points<br>
Position 2 → 99 points<br>
… and so on.
 &nbsp;</p>

  <p>
&nbsp; &nbsp; After this, we sum the ranking points for each year across all macrogenres.
 &nbsp;</p>

  <p>
&nbsp; &nbsp; Next, we created a pivot table to obtain a format suitable for Flourish.
 &nbsp;</p>

  <p>
&nbsp; &nbsp; Finally, we added a binary indicator:<br>
if the value was different from 0, we assigned count = 1, otherwise 0.<br>
<br><br>
<b>Final structure</b><br></p><h2 style="font-size: 1.6rem; font-weight: 600; margin-top: 2rem;"><br>
</h2>

  <table style="width: 100%; border-collapse: collapse; font-size: 0.9rem;">
    <tbody>
      <tr>
        <td style="border: 1px solid #777; padding: 8px;"><strong>Year</strong></td>
        <td style="border: 1px solid #777; padding: 8px;">The year</td>
      </tr>
      <tr>
        <td style="border: 1px solid #777; padding: 8px;"><strong>A column for each macrogenre</strong></td>
        <td style="border: 1px solid #777; padding: 8px;">Rank point count per year</td>
      </tr>
      <tr>
        <td style="border: 1px solid #777; padding: 8px;"><strong>Binary indicator columns</strong></td>
        <td style="border: 1px solid #777; padding: 8px;">1 if present, 0 if absent</td>
      </tr>
    </tbody>
  </table>

  <!-- DOWNLOAD LINK ALLA FINE -->
  <div style="margin-top: 1.5rem;">

    <a onclick="forceDownload(
        'https://raw.githubusercontent.com/JDMF-05/Data_Vis_Group_Assignment_JDM_MD_FL/main/datasets%20(for%20documentation)/Bigdataset.zip',
        'Bigdataset.zip'
      );" onmouseout="this.style.transform='scale(1)';" onmouseover="this.style.transform='scale(1.05)';" style="color: inherit; cursor: pointer; font-weight: 600; text-decoration: none; display: inline-block; transition: transform 0.15s; transform: scale(1);"><br>
Download The Main Dataset (25.12 MB)
 </a><br>

    <br><a onclick="forceDownload(
        'https://raw.githubusercontent.com/JDMF-05/Data_Vis_Group_Assignment_JDM_MD_FL/main/datasets%20(for%20documentation)/year_areachart.zip',
        'year_areachart.zip'
      );" style="color: inherit; cursor: pointer; font-weight: 600; text-decoration: none; display: inline-block; transition: transform 0.15s; transform: scale(1);" onmouseover="this.style.transform='scale(1.05)';" onmouseout="this.style.transform='scale(1)';">Download The Areachart Dataset (12.16 KB)
 </a>
  </div>

</div>

<!-- DOWNLOAD METHOD FOR CARGO -->
<script>
async function forceDownload(url, filename) {
  try {
    const response = await fetch(url);
    if (!response.ok) throw new Error("Network error: " + response.status);

    const blob = await response.blob();
    const blobUrl = URL.createObjectURL(blob);

    const link = document.createElement('a');
    link.href = blobUrl;
    link.download = filename;
    document.body.appendChild(link);
    link.click();

    document.body.removeChild(link);
    URL.revokeObjectURL(blobUrl);
  } catch (err) {
    console.error("Download failed:", err);
    alert("Download failed (see console).");
  }
}
</script>
